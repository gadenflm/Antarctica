[TOC]
#vim 使用笔记

## 常用按键

---

### 光标移动

#### 左上下右`hjkl`

`[n] [h/j/k/l]` 对应方向移动n行

#### 行内移动 

`0` 移动到行首
`$` 移动到行尾

#### 多行移动

`gg` 移动到文档第一行
`G` 移动到文档最后一行
`[n] G` 移动到文档的第n行
`[n] [Enter]` 向下移动n行

#### 单词跳跃

`e` __移动到下个单词后__
`b` __移动到上个单词前__
`w` __移动到下个单词前__

`f [char]` 移动 本行内 下一个目标字符后
`F [char]` 移动 本行内 上一个目标字符后

`t [char]` 移动 本行内 下一个目标字符前
`T [char]` 移动 本行内 上一个目标字符前

#### 单词查找(配合 `n` `N`)
`shift + 3 or #` 向前搜索当前单词
`shift + 8 or *` 向后搜索当前单词

---

### 复制、剪切、粘贴、删除

#### 复制 `y`

`yy` 复制当前行  
`y1G` 复制{第一行--当前行}
`yG` 复制{当前行--最后一行}
`y0` 复制当前字符到行首
`y$` 复制当前字符到行尾

#### 剪切（删除）`d`

`dd` 剪切(删除)当前行  
`[n] dd` 剪切(删除) n行

#### 粘贴 `p`
`p` (小写)粘贴在光标后  
`P` (大写)粘贴在光标前

#### 删除 `x`
`x` (小写)删除光标后一个字符
`X` (大写)删除光标前一个字符
`[n] x\X` 连续向后\向前删除n个字符

#### 删除并进入输入模式 `c`

__`cc` 删除该行并进入输入模式__
__`cw` 删除该单词并进入输入模式__
__`cl` 删除该字符并进入输入模式__

## 选择模式(可视化模式)

`v` 进入选择模式  
__`shift + v or V` 进入选择模式 并 选中该行__  
__`ctrl + v` 进入块选择模式!__  

`U` 选中部分变为大写

---

### 其他常用

#### 合并下一行至本行 `J`
将光标所在行与下一行的数据结合成同一行

## vim 指令 

### 批量替换

* __n1行至n2行内的 str1 替换成 str2: `:[n1],[n2]s/[str1]/[str2]/g`__
* __所有行 str1 替换成 str2 :__
    - `:%s/[str1]/[str2]/g`
    - `:1,$s/[str1]/[str2]/g`
* __将结尾 `g` 改为 `gc` 会增加每个替换的确认过程__

* 当前行str1 替换成 str2: `:s/[str1]/[str2]/g`

#### 特殊用例(配合转义符使用)

* 仅仅替换 单词`ld` 为 `LD`, 而`world` `ldd` 等单词不会被替换 
```Vim
<SampleString> 表示严格识别该单词，前后不可多字符
:%s/\<ld\>/LD/g
```

* 将 `From` 和 `To` 都替换成 `at`
```Vim
(Sample1|Sample2) 或表达式
:%s/\(From\|To\)/at/g
```

## 问题

#### 终端使用vim时卡住

原因： `ctrl+s` 终止向终端输出  

解决： `ctrl+q` 恢复 