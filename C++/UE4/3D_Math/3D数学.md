# 3D数学相关

## 向量

* 判断两向量同向:
判断 `|a x b| / |a||b| < sin(Epsilon)`

* 外积内积计算时实际是基于 基底`{e_i}` 和 坐标`{a_0, a_1, ...}` , 基底一般选择相互正交的

## 矩阵

* 基底变换(主要)： 两基底互相转换，可以用乘一个矩阵实现，转回来为乘上逆矩阵
* 线性变化： 在基底基础上进行线性变换（放大/缩小） 可用矩阵A表示

列向量：使用时全部使用左乘，为对应与代码中的函数复合过程，后作用的 矩阵 在左乘中往前 乘
行向量(转置实现)：对应改成右乘和往后乘

## 旋转

旋转是一个线性变化，可能用如下的实现方式

### 欧拉角

使用三个轴上依次旋转的角度表示旋转。 根据轴的选择(直角坐标系、圆柱坐标系、球坐标系...)，值的差距可能很大

__存在问题： 在特定角度下会丢失一个旋转自由度！ 例如，xyz下，y轴旋转90°和x轴重合,作此矩阵变换后, xy两轴上的旋转操作全部统一了__

### 旋转矩阵

`R = [e_1 e_2 e_3]`记录旋转后的三个轴, 直观，三轴方向一目了然

* 提升代码速度性质: `R^(-1) == R^T `

### 单位四元数

常用，使用时可以去了解，此处不记录

### 齐次坐标系

* 将坐标扩充中至四维， 用来处理位置相关信息, 例如 `[x y z 1]` 表示点, `[x y z 0]` 表示向量

存在大量一般线性变化常用公式，使用时可以去了解。
主要包括 平移、拉伸、旋转、镜像等等

### TRS形式

UE4 特殊表示形式，在三轴相互垂直的情况下可以使用

分为  Location表示位置， Rotate 表示欧拉角， Scale 表示大小

__两个TRS相互作用后, 结果不一定还是TRS形式，可能需要转换__







